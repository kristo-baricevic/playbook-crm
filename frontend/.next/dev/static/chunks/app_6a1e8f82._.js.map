{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/app/api/client.ts"],"sourcesContent":["export async function apiGet<T>(url: string): Promise<T> {\n    const res = await fetch(url)\n    if (!res.ok) throw new Error(\"API error\")\n    return res.json()\n  }\n  \n  export async function apiPost<T>(\n    url: string,\n    body: unknown\n  ): Promise<T> {\n    const res = await fetch(url, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(body),\n    })\n    if (!res.ok) throw new Error(\"API error\")\n    return res.json()\n  }\n  "],"names":[],"mappings":";;;;;;AAAO,eAAe,OAAU,GAAW;IACvC,MAAM,MAAM,MAAM,MAAM;IACxB,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,QACpB,GAAW,EACX,IAAa;IAEb,MAAM,MAAM,MAAM,MAAM,KAAK;QAC3B,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,IAAI,IAAI;AACjB"}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/app/slices/crmSlice.tsx"],"sourcesContent":["import { PayloadAction, createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { apiGet } from \"../api/client\";\n\nexport type Contact = {\n  id: number;\n  name: string;\n  email: string;\n  company_name: string;\n  location: string;\n  industry: string;\n  last_contacted: string | null;\n  next_contacted: string | null;\n  emails_sent: number;\n  emails_scheduled: number;\n};\n\ntype CRMState = {\n  contacts: Contact[];\n  loading: boolean;\n  selectedIds: number[];\n};\n\nconst initialState: CRMState = {\n  contacts: [],\n  loading: false,\n  selectedIds: [],\n};\n\nexport const fetchContacts = createAsyncThunk(\"crm/fetchContacts\", async () => {\n  const res = await apiGet<{ results: Contact[] }>(\"/api/contacts/\");\n  return res.results;\n});\n\nconst crmSlice = createSlice({\n  name: \"crm\",\n  initialState,\n  reducers: {\n    setSelectedIds(state, action: PayloadAction<number[]>) {\n      state.selectedIds = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchContacts.pending, (state) => {\n        state.loading = true;\n      })\n      .addCase(fetchContacts.fulfilled, (state, action) => {\n        state.contacts = action.payload;\n        state.loading = false;\n      });\n  },\n});\n\nexport const { setSelectedIds } = crmSlice.actions;\nexport default crmSlice.reducer;\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAqBA,MAAM,eAAyB;IAC7B,UAAU,EAAE;IACZ,SAAS;IACT,aAAa,EAAE;AACjB;AAEO,MAAM,gBAAgB,IAAA,kNAAgB,EAAC,qBAAqB;IACjE,MAAM,MAAM,MAAM,IAAA,iIAAM,EAAyB;IACjD,OAAO,IAAI,OAAO;AACpB;AAEA,MAAM,WAAW,IAAA,6MAAW,EAAC;IAC3B,MAAM;IACN;IACA,UAAU;QACR,gBAAe,KAAK,EAAE,MAA+B;YACnD,MAAM,WAAW,GAAG,OAAO,OAAO;QACpC;IACF;IACA,eAAe,CAAC;QACd,QACG,OAAO,CAAC,cAAc,OAAO,EAAE,CAAC;YAC/B,MAAM,OAAO,GAAG;QAClB,GACC,OAAO,CAAC,cAAc,SAAS,EAAE,CAAC,OAAO;YACxC,MAAM,QAAQ,GAAG,OAAO,OAAO;YAC/B,MAAM,OAAO,GAAG;QAClB;IACJ;AACF;AAEO,MAAM,EAAE,cAAc,EAAE,GAAG,SAAS,OAAO;uCACnC,SAAS,OAAO"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/app/slices/playbooksSlice.tsx"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { apiGet } from \"../api/client\";\n\nexport type PlaybookStep = {\n  id: number;\n  order: number;\n  day_offset: number;\n  channel: string;\n  prompt_version: number;\n};\n\nexport type Playbook = {\n  id: number;\n  name: string;\n  steps: PlaybookStep[];\n};\n\ntype PlaybooksState = {\n  playbooks: Playbook[];\n};\n\nconst initialState: PlaybooksState = {\n  playbooks: [],\n};\n\nexport const fetchPlaybooks = createAsyncThunk(\"playbooks/fetch\", async () => {\n  return apiGet<Playbook[]>(\"/api/playbooks/\");\n});\n\nconst playbooksSlice = createSlice({\n  name: \"playbooks\",\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(fetchPlaybooks.fulfilled, (state, action) => {\n      state.playbooks = action.payload;\n    });\n  },\n});\n\nexport default playbooksSlice.reducer;\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAoBA,MAAM,eAA+B;IACnC,WAAW,EAAE;AACf;AAEO,MAAM,iBAAiB,IAAA,kNAAgB,EAAC,mBAAmB;IAChE,OAAO,IAAA,iIAAM,EAAa;AAC5B;AAEA,MAAM,iBAAiB,IAAA,6MAAW,EAAC;IACjC,MAAM;IACN;IACA,UAAU,CAAC;IACX,eAAe,CAAC;QACd,QAAQ,OAAO,CAAC,eAAe,SAAS,EAAE,CAAC,OAAO;YAChD,MAAM,SAAS,GAAG,OAAO,OAAO;QAClC;IACF;AACF;uCAEe,eAAe,OAAO"}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/app/slices/generationSlice.tsx"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { apiPost } from \"../api/client\";\n\ntype GenerationState = {\n  generating: boolean;\n  lastRunAt: string | null;\n};\n\nconst initialState: GenerationState = {\n  generating: false,\n  lastRunAt: null,\n};\n\nexport const generateMessages = createAsyncThunk(\n  \"generation/run\",\n  async (payload: { playbook_id: number; contact_ids: number[] }) => {\n    await apiPost(\"/api/generate/\", payload);\n    return new Date().toISOString();\n  }\n);\n\nconst generationSlice = createSlice({\n  name: \"generation\",\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(generateMessages.pending, (state) => {\n        state.generating = true;\n      })\n      .addCase(generateMessages.fulfilled, (state, action) => {\n        state.generating = false;\n        state.lastRunAt = action.payload;\n      });\n  },\n});\n\nexport default generationSlice.reducer;\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAOA,MAAM,eAAgC;IACpC,YAAY;IACZ,WAAW;AACb;AAEO,MAAM,mBAAmB,IAAA,kNAAgB,EAC9C,kBACA,OAAO;IACL,MAAM,IAAA,kIAAO,EAAC,kBAAkB;IAChC,OAAO,IAAI,OAAO,WAAW;AAC/B;AAGF,MAAM,kBAAkB,IAAA,6MAAW,EAAC;IAClC,MAAM;IACN;IACA,UAAU,CAAC;IACX,eAAe,CAAC;QACd,QACG,OAAO,CAAC,iBAAiB,OAAO,EAAE,CAAC;YAClC,MAAM,UAAU,GAAG;QACrB,GACC,OAAO,CAAC,iBAAiB,SAAS,EAAE,CAAC,OAAO;YAC3C,MAAM,UAAU,GAAG;YACnB,MAAM,SAAS,GAAG,OAAO,OAAO;QAClC;IACJ;AACF;uCAEe,gBAAgB,OAAO"}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/app/api/analytics.tsx"],"sourcesContent":["import { apiGet } from \"./client\";\nimport { MetricType } from \"../slices/analyticsSlice\";\n\nconst BASE_URL = \"http://localhost:8000\";\n\nexport function fetchChartData(metric: MetricType, days: number) {\n  return apiGet(\n    `${BASE_URL}/api/analytics/charts/?type=${metric}&days=${days}`\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;AAGA,MAAM,WAAW;AAEV,SAAS,eAAe,MAAkB,EAAE,IAAY;IAC7D,OAAO,IAAA,iIAAM,EACX,GAAG,SAAS,4BAA4B,EAAE,OAAO,MAAM,EAAE,MAAM;AAEnE"}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/app/slices/analyticsSlice.tsx"],"sourcesContent":["// analyticsSlice.ts\nimport {\n  PayloadAction,\n  createAsyncThunk,\n  createSlice,\n  nanoid,\n} from \"@reduxjs/toolkit\";\nimport { apiGet, apiPost } from \"../api/client\";\nimport { fetchChartData } from \"../api/analytics\";\n\nexport type ChartType = \"pie\" | \"bar\" | \"line\" | \"combo\";\nexport type MetricType = \"emails_sent\" | \"industry_breakdown\" | \"response_rate\";\n\nexport type ChartConfig = {\n  id: string;\n  chartType: ChartType;\n  metric: MetricType;\n  days: number;\n};\n\nexport type Dashboard = {\n  id: string;\n  name: string;\n  chartIds: string[];\n};\n\ntype AnalyticsState = {\n  charts: Record<string, unknown>;\n  chartConfigs: Record<string, ChartConfig>;\n  dashboards: Record<string, Dashboard>;\n  activeDashboardId: string | null;\n  loading: boolean;\n};\n\nconst initialState: AnalyticsState = {\n  charts: {},\n  chartConfigs: {},\n  dashboards: {},\n  activeDashboardId: null,\n  loading: false,\n};\n\nexport const fetchChart = createAsyncThunk(\n  \"analytics/fetchChart\",\n  async (params: { chartId: string; metric: MetricType; days: number }) => {\n    const { metric, days } = params;\n    const data = await fetchChartData(metric, days);\n    return { chartId: params.chartId, data };\n  }\n);\n\nexport const saveDashboard = createAsyncThunk(\n  \"analytics/saveDashboard\",\n  async (dashboard: Dashboard) => {\n    await apiPost(\"/api/analytics/dashboards/\", dashboard);\n    return dashboard;\n  }\n);\n\nconst analyticsSlice = createSlice({\n  name: \"analytics\",\n  initialState,\n  reducers: {\n    createChart: {\n      reducer(state, action: PayloadAction<ChartConfig>) {\n        const cfg = action.payload;\n        state.chartConfigs[cfg.id] = cfg;\n\n        const dashId = state.activeDashboardId;\n        if (!dashId) return;\n\n        state.dashboards[dashId].chartIds.push(cfg.id);\n      },\n      prepare(chartType: ChartType, metric: MetricType, days = 30) {\n        return {\n          payload: {\n            id: nanoid(),\n            chartType,\n            metric,\n            days,\n          },\n        };\n      },\n    },\n\n    createDashboard(state, action: PayloadAction<string>) {\n      const id = nanoid();\n      state.dashboards[id] = { id, name: action.payload, chartIds: [] };\n      state.activeDashboardId = id;\n    },\n\n    setActiveDashboard(state, action: PayloadAction<string>) {\n      state.activeDashboardId = action.payload;\n    },\n\n    updateChartConfig(\n      state,\n      action: PayloadAction<{ id: string; updates: Partial<ChartConfig> }>\n    ) {\n      Object.assign(\n        state.chartConfigs[action.payload.id],\n        action.payload.updates\n      );\n    },\n  },\n\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchChart.pending, (state) => {\n        state.loading = true;\n      })\n      .addCase(fetchChart.fulfilled, (state, action) => {\n        state.charts[action.payload.chartId] = action.payload.data;\n        state.loading = false;\n      });\n  },\n});\n\nexport const {\n  createChart,\n  createDashboard,\n  setActiveDashboard,\n  updateChartConfig,\n} = analyticsSlice.actions;\n\nexport default analyticsSlice.reducer;\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA,oBAAoB;AACpB;AAMA;AACA;;;;AA0BA,MAAM,eAA+B;IACnC,QAAQ,CAAC;IACT,cAAc,CAAC;IACf,YAAY,CAAC;IACb,mBAAmB;IACnB,SAAS;AACX;AAEO,MAAM,aAAa,IAAA,kNAAgB,EACxC,wBACA,OAAO;IACL,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG;IACzB,MAAM,OAAO,MAAM,IAAA,6IAAc,EAAC,QAAQ;IAC1C,OAAO;QAAE,SAAS,OAAO,OAAO;QAAE;IAAK;AACzC;AAGK,MAAM,gBAAgB,IAAA,kNAAgB,EAC3C,2BACA,OAAO;IACL,MAAM,IAAA,kIAAO,EAAC,8BAA8B;IAC5C,OAAO;AACT;AAGF,MAAM,iBAAiB,IAAA,6MAAW,EAAC;IACjC,MAAM;IACN;IACA,UAAU;QACR,aAAa;YACX,SAAQ,KAAK,EAAE,MAAkC;gBAC/C,MAAM,MAAM,OAAO,OAAO;gBAC1B,MAAM,YAAY,CAAC,IAAI,EAAE,CAAC,GAAG;gBAE7B,MAAM,SAAS,MAAM,iBAAiB;gBACtC,IAAI,CAAC,QAAQ;gBAEb,MAAM,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE;YAC/C;YACA,SAAQ,SAAoB,EAAE,MAAkB,EAAE,OAAO,EAAE;gBACzD,OAAO;oBACL,SAAS;wBACP,IAAI,IAAA,wMAAM;wBACV;wBACA;wBACA;oBACF;gBACF;YACF;QACF;QAEA,iBAAgB,KAAK,EAAE,MAA6B;YAClD,MAAM,KAAK,IAAA,wMAAM;YACjB,MAAM,UAAU,CAAC,GAAG,GAAG;gBAAE;gBAAI,MAAM,OAAO,OAAO;gBAAE,UAAU,EAAE;YAAC;YAChE,MAAM,iBAAiB,GAAG;QAC5B;QAEA,oBAAmB,KAAK,EAAE,MAA6B;YACrD,MAAM,iBAAiB,GAAG,OAAO,OAAO;QAC1C;QAEA,mBACE,KAAK,EACL,MAAoE;YAEpE,OAAO,MAAM,CACX,MAAM,YAAY,CAAC,OAAO,OAAO,CAAC,EAAE,CAAC,EACrC,OAAO,OAAO,CAAC,OAAO;QAE1B;IACF;IAEA,eAAe,CAAC;QACd,QACG,OAAO,CAAC,WAAW,OAAO,EAAE,CAAC;YAC5B,MAAM,OAAO,GAAG;QAClB,GACC,OAAO,CAAC,WAAW,SAAS,EAAE,CAAC,OAAO;YACrC,MAAM,MAAM,CAAC,OAAO,OAAO,CAAC,OAAO,CAAC,GAAG,OAAO,OAAO,CAAC,IAAI;YAC1D,MAAM,OAAO,GAAG;QAClB;IACJ;AACF;AAEO,MAAM,EACX,WAAW,EACX,eAAe,EACf,kBAAkB,EAClB,iBAAiB,EAClB,GAAG,eAAe,OAAO;uCAEX,eAAe,OAAO"}},
    {"offset": {"line": 269, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/app/store.ts"],"sourcesContent":["import { configureStore } from \"@reduxjs/toolkit\"\nimport crmReducer from \"./slices/crmSlice\"\nimport playbooksReducer from \"./slices/playbooksSlice\"\nimport generationReducer from \"./slices/generationSlice\"\nimport analyticsReducer from \"./slices/analyticsSlice\"\n\nexport const store = configureStore({\n  reducer: {\n    crm: crmReducer,\n    playbooks: playbooksReducer,\n    generation: generationReducer,\n    analytics: analyticsReducer,\n  },\n})\n\nexport type RootState = ReturnType<typeof store.getState>\nexport type AppDispatch = typeof store.dispatch\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEO,MAAM,QAAQ,IAAA,gNAAc,EAAC;IAClC,SAAS;QACP,KAAK,wIAAU;QACf,WAAW,8IAAgB;QAC3B,YAAY,+IAAiB;QAC7B,WAAW,8IAAgB;IAC7B;AACF"}},
    {"offset": {"line": 298, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/app/providers.tsx"],"sourcesContent":["\"use client\";\n\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store\";\n\nexport function Providers({ children }: { children: React.ReactNode }) {\n  return <Provider store={store}>{children}</Provider>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,qBAAO,6LAAC,wKAAQ;QAAC,OAAO,wHAAK;kBAAG;;;;;;AAClC;KAFgB"}},
    {"offset": {"line": 329, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/app/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport { Providers } from \"./providers\";\nimport \"./globals.css\";\n\nexport default function RootLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const [open, setOpen] = useState(true);\n\n  return (\n    <html lang=\"en\">\n      <body className=\"min-h-screen bg-slate-950 text-slate-400\">\n        <Providers>\n          <div className=\"flex min-h-screen\">\n            <aside\n              className={`${\n                open ? \"w-56\" : \"w-14\"\n              } transition-all bg-slate-900 p-4`}\n            >\n              <button\n                onClick={() => setOpen(!open)}\n                className=\"mb-6 text-xs text-slate-400\"\n              >\n                {open ? \"<<\" : \">>\"}\n              </button>\n\n              <nav className=\"flex flex-col gap-4 text-sm\">\n                <Link href=\"/table\">Table</Link>\n                <Link href=\"/analytics\">Analytics</Link>\n                <Link href=\"/playbook\">Playbooks</Link>\n                <Link href=\"/materials\">Materials</Link>\n              </nav>\n            </aside>\n\n            <main className=\"flex-1 p-8\">{children}</main>\n          </div>\n        </Providers>\n      </body>\n    </html>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;;AAOe,SAAS,WAAW,EACjC,QAAQ,EAGT;;IACC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IAEjC,qBACE,6LAAC;QAAK,MAAK;kBACT,cAAA,6LAAC;YAAK,WAAU;sBACd,cAAA,6LAAC,iIAAS;0BACR,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BACC,WAAW,GACT,OAAO,SAAS,OACjB,gCAAgC,CAAC;;8CAElC,6LAAC;oCACC,SAAS,IAAM,QAAQ,CAAC;oCACxB,WAAU;8CAET,OAAO,OAAO;;;;;;8CAGjB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,0KAAI;4CAAC,MAAK;sDAAS;;;;;;sDACpB,6LAAC,0KAAI;4CAAC,MAAK;sDAAa;;;;;;sDACxB,6LAAC,0KAAI;4CAAC,MAAK;sDAAY;;;;;;sDACvB,6LAAC,0KAAI;4CAAC,MAAK;sDAAa;;;;;;;;;;;;;;;;;;sCAI5B,6LAAC;4BAAK,WAAU;sCAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM1C;GAtCwB;KAAA"}}]
}