{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/src/app/api/client.ts"],"sourcesContent":["export async function apiGet<T>(url: string): Promise<T> {\n    const res = await fetch(url)\n    if (!res.ok) throw new Error(\"API error\")\n    return res.json()\n  }\n  \n  export async function apiPost<T>(\n    url: string,\n    body: unknown\n  ): Promise<T> {\n    const res = await fetch(url, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(body),\n    })\n    if (!res.ok) throw new Error(\"API error\")\n    return res.json()\n  }\n  "],"names":[],"mappings":";;;;;;AAAO,eAAe,OAAU,GAAW;IACvC,MAAM,MAAM,MAAM,MAAM;IACxB,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,QACpB,GAAW,EACX,IAAa;IAEb,MAAM,MAAM,MAAM,MAAM,KAAK;QAC3B,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,IAAI,IAAI;AACjB"}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/src/app/slices/crmSlice.tsx"],"sourcesContent":["import { PayloadAction, createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { apiGet } from \"../api/client\";\n\nexport type Contact = {\n  id: number;\n  name: string;\n  email: string;\n  company_name: string;\n  location: string;\n  industry: string;\n  last_contacted: string | null;\n  next_contacted: string | null;\n  emails_sent: number;\n  emails_scheduled: number;\n};\n\ntype CRMState = {\n  contacts: Contact[];\n  loading: boolean;\n  selectedIds: number[];\n};\n\nconst initialState: CRMState = {\n  contacts: [],\n  loading: false,\n  selectedIds: [],\n};\n\nexport const fetchContacts = createAsyncThunk(\"crm/fetchContacts\", async () => {\n  const res = await apiGet<{ results: Contact[] }>(\"/api/contacts/\");\n  return res.results;\n});\n\nconst crmSlice = createSlice({\n  name: \"crm\",\n  initialState,\n  reducers: {\n    setSelectedIds(state, action: PayloadAction<number[]>) {\n      state.selectedIds = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchContacts.pending, (state) => {\n        state.loading = true;\n      })\n      .addCase(fetchContacts.fulfilled, (state, action) => {\n        state.contacts = action.payload;\n        state.loading = false;\n      });\n  },\n});\n\nexport const { setSelectedIds } = crmSlice.actions;\nexport default crmSlice.reducer;\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAqBA,MAAM,eAAyB;IAC7B,UAAU,EAAE;IACZ,SAAS;IACT,aAAa,EAAE;AACjB;AAEO,MAAM,gBAAgB,IAAA,+MAAgB,EAAC,qBAAqB;IACjE,MAAM,MAAM,MAAM,IAAA,qIAAM,EAAyB;IACjD,OAAO,IAAI,OAAO;AACpB;AAEA,MAAM,WAAW,IAAA,0MAAW,EAAC;IAC3B,MAAM;IACN;IACA,UAAU;QACR,gBAAe,KAAK,EAAE,MAA+B;YACnD,MAAM,WAAW,GAAG,OAAO,OAAO;QACpC;IACF;IACA,eAAe,CAAC;QACd,QACG,OAAO,CAAC,cAAc,OAAO,EAAE,CAAC;YAC/B,MAAM,OAAO,GAAG;QAClB,GACC,OAAO,CAAC,cAAc,SAAS,EAAE,CAAC,OAAO;YACxC,MAAM,QAAQ,GAAG,OAAO,OAAO;YAC/B,MAAM,OAAO,GAAG;QAClB;IACJ;AACF;AAEO,MAAM,EAAE,cAAc,EAAE,GAAG,SAAS,OAAO;uCACnC,SAAS,OAAO"}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/src/app/components/TableActionsHeader.tsx"],"sourcesContent":["import React from \"react\";\n\nexport default function TableActionsHeader() {\n  const handleGenerate = () => {\n    console.log(\"handle generate\");\n  };\n\n  const handleDelete = () => {\n    console.log(\"handle delete\");\n  };\n\n  const handleAddContact = () => {\n    console.log(\"handle add contact\");\n  };\n  return (\n    <div className=\"flex flex-row\">\n      <div className=\"flex cursor-pointer\" onClick={handleGenerate}>\n        Generate |\n      </div>\n      <div className=\"flex cursor-pointer\" onClick={handleDelete}>\n        Delete |\n      </div>\n      <div className=\"flex cursor-pointer\" onClick={handleAddContact}>\n        Add Contact |\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAEe,SAAS;IACtB,MAAM,iBAAiB;QACrB,QAAQ,GAAG,CAAC;IACd;IAEA,MAAM,eAAe;QACnB,QAAQ,GAAG,CAAC;IACd;IAEA,MAAM,mBAAmB;QACvB,QAAQ,GAAG,CAAC;IACd;IACA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;gBAAsB,SAAS;0BAAgB;;;;;;0BAG9D,8OAAC;gBAAI,WAAU;gBAAsB,SAAS;0BAAc;;;;;;0BAG5D,8OAAC;gBAAI,WAAU;gBAAsB,SAAS;0BAAkB;;;;;;;;;;;;AAKtE"}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/src/app/components/TableSearch.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState } from \"react\";\n\nexport default function TableSearch() {\n  const [searchOpen, setSearchOpen] = useState(false);\n  return (\n    <div className=\"flex flex-row gap-2\">\n      <div\n        className=\"flex cursor-pointer rounded-md bg-blue-500 p-2\"\n        onClick={() => {\n          setSearchOpen(!searchOpen);\n        }}\n      >\n        SEARCH\n      </div>\n      {searchOpen && (\n        <>\n          <div className=\"flex flex-col\">\n            <div className=\"flex\">Name</div>\n            <input></input>\n          </div>\n          <div className=\"flex flex-col\">\n            <div className=\"flex\">Industry</div>\n            <input></input>\n          </div>\n          <div className=\"flex flex-col\">\n            <div className=\"flex\">Email</div>\n            <input></input>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGe,SAAS;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,WAAU;gBACV,SAAS;oBACP,cAAc,CAAC;gBACjB;0BACD;;;;;;YAGA,4BACC;;kCACE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAO;;;;;;0CACtB,8OAAC;;;;;;;;;;;kCAEH,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAO;;;;;;0CACtB,8OAAC;;;;;;;;;;;kCAEH,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAO;;;;;;0CACtB,8OAAC;;;;;;;;;;;;;;;;;;;AAMb"}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/src/app/components/MainTable.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport {\n  ColumnDef,\n  RowSelectionState,\n  getCoreRowModel,\n  useReactTable,\n} from \"@tanstack/react-table\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchContacts, setSelectedIds, Contact } from \"../slices/crmSlice\";\nimport { AppDispatch, RootState } from \"../../store\";\nimport TableActionsHeader from \"./TableActionsHeader\";\nimport TableSearch from \"./TableSearch\";\n\nexport default function MainTable() {\n  const dispatch = useDispatch<AppDispatch>();\n  const { contacts } = useSelector((s: RootState) => s.crm);\n\n  const [rowSelection, setRowSelection] = useState<RowSelectionState>({});\n\n  useEffect(() => {\n    dispatch(fetchContacts());\n  }, []);\n\n  useEffect(() => {\n    const ids = Object.keys(rowSelection)\n      .filter((k) => rowSelection[k])\n      .map(Number);\n\n    dispatch(setSelectedIds(ids));\n  }, [rowSelection]);\n\n  const columns = useMemo<ColumnDef<Contact>[]>(\n    () => [\n      {\n        id: \"select\",\n        header: ({ table }) => (\n          <input\n            type=\"checkbox\"\n            checked={table.getIsAllRowsSelected()}\n            onChange={table.getToggleAllRowsSelectedHandler()}\n          />\n        ),\n        cell: ({ row }) => (\n          <input\n            type=\"checkbox\"\n            checked={row.getIsSelected()}\n            onChange={row.getToggleSelectedHandler()}\n          />\n        ),\n      },\n      { accessorKey: \"name\", header: \"Name\" },\n      { accessorKey: \"email\", header: \"Email\" },\n      { accessorKey: \"company_name\", header: \"Company\" },\n      { accessorKey: \"location\", header: \"Location\" },\n      { accessorKey: \"industry\", header: \"Industry\" },\n      { accessorKey: \"last_contacted\", header: \"Last Contacted\" },\n      { accessorKey: \"next_contacted\", header: \"Next Contacted\" },\n      { accessorKey: \"emails_sent\", header: \"# Sent\" },\n      { accessorKey: \"emails_scheduled\", header: \"# Scheduled\" },\n    ],\n    []\n  );\n\n  const table = useReactTable({\n    data: contacts,\n    columns,\n    state: { rowSelection },\n    enableRowSelection: true,\n    onRowSelectionChange: setRowSelection,\n    getCoreRowModel: getCoreRowModel(),\n  });\n\n  return (\n    <>\n      <div className=\"border border-slate-400 rounded-lg min-h-screen uppercase text-sm\">\n        <div>\n          <TableActionsHeader />\n        </div>\n        <div>\n          <TableSearch />\n        </div>\n        <table className=\"w-full border-collapse\">\n          <thead className=\"border-b border-slate-400\">\n            {table.getHeaderGroups().map((hg) => (\n              <tr key={hg.id}>\n                {hg.headers.map((h) => (\n                  <th\n                    key={h.id}\n                    className=\"px-4 py-3 text-left font-medium text-slate-700\"\n                  >\n                    {h.isPlaceholder\n                      ? null\n                      : (h.column.columnDef.header as string)}{\" \"}\n                  </th>\n                ))}\n              </tr>\n            ))}\n          </thead>\n\n          <tbody>\n            {table.getRowModel().rows.map((row) => (\n              <tr\n                key={row.id}\n                className=\"border-b border-slate-300 last:border-b-0\"\n              >\n                {row.getVisibleCells().map((cell) => (\n                  <td key={cell.id} className=\"px-4 py-3 text-slate-800\">\n                    {cell.getValue() as string}\n                  </td>\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAMA;AACA;AACA;AAEA;AACA;AAdA;;;;;;;;AAgBe,SAAS;IACtB,MAAM,WAAW,IAAA,wKAAW;IAC5B,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,wKAAW,EAAC,CAAC,IAAiB,EAAE,GAAG;IAExD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAoB,CAAC;IAErE,IAAA,kNAAS,EAAC;QACR,SAAS,IAAA,kJAAa;IACxB,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,MAAM,MAAM,OAAO,IAAI,CAAC,cACrB,MAAM,CAAC,CAAC,IAAM,YAAY,CAAC,EAAE,EAC7B,GAAG,CAAC;QAEP,SAAS,IAAA,mJAAc,EAAC;IAC1B,GAAG;QAAC;KAAa;IAEjB,MAAM,UAAU,IAAA,gNAAO,EACrB,IAAM;YACJ;gBACE,IAAI;gBACJ,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAChB,8OAAC;wBACC,MAAK;wBACL,SAAS,MAAM,oBAAoB;wBACnC,UAAU,MAAM,+BAA+B;;;;;;gBAGnD,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,8OAAC;wBACC,MAAK;wBACL,SAAS,IAAI,aAAa;wBAC1B,UAAU,IAAI,wBAAwB;;;;;;YAG5C;YACA;gBAAE,aAAa;gBAAQ,QAAQ;YAAO;YACtC;gBAAE,aAAa;gBAAS,QAAQ;YAAQ;YACxC;gBAAE,aAAa;gBAAgB,QAAQ;YAAU;YACjD;gBAAE,aAAa;gBAAY,QAAQ;YAAW;YAC9C;gBAAE,aAAa;gBAAY,QAAQ;YAAW;YAC9C;gBAAE,aAAa;gBAAkB,QAAQ;YAAiB;YAC1D;gBAAE,aAAa;gBAAkB,QAAQ;YAAiB;YAC1D;gBAAE,aAAa;gBAAe,QAAQ;YAAS;YAC/C;gBAAE,aAAa;gBAAoB,QAAQ;YAAc;SAC1D,EACD,EAAE;IAGJ,MAAM,QAAQ,IAAA,uMAAa,EAAC;QAC1B,MAAM;QACN;QACA,OAAO;YAAE;QAAa;QACtB,oBAAoB;QACpB,sBAAsB;QACtB,iBAAiB,IAAA,wLAAe;IAClC;IAEA,qBACE;kBACE,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;8BACC,cAAA,8OAAC,0JAAkB;;;;;;;;;;8BAErB,8OAAC;8BACC,cAAA,8OAAC,mJAAW;;;;;;;;;;8BAEd,8OAAC;oBAAM,WAAU;;sCACf,8OAAC;4BAAM,WAAU;sCACd,MAAM,eAAe,GAAG,GAAG,CAAC,CAAC,mBAC5B,8OAAC;8CACE,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,kBACf,8OAAC;4CAEC,WAAU;;gDAET,EAAE,aAAa,GACZ,OACC,EAAE,MAAM,CAAC,SAAS,CAAC,MAAM;gDAAa;;2CALtC,EAAE,EAAE;;;;;mCAHN,GAAG,EAAE;;;;;;;;;;sCAelB,8OAAC;sCACE,MAAM,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,oBAC7B,8OAAC;oCAEC,WAAU;8CAET,IAAI,eAAe,GAAG,GAAG,CAAC,CAAC,qBAC1B,8OAAC;4CAAiB,WAAU;sDACzB,KAAK,QAAQ;2CADP,KAAK,EAAE;;;;;mCAJb,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;AAe3B"}}]
}