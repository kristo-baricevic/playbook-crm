{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/src/app/api/client.ts"],"sourcesContent":["export async function apiGet<T>(url: string): Promise<T> {\n    const res = await fetch(url)\n    if (!res.ok) throw new Error(\"API error\")\n    return res.json()\n  }\n  \n  export async function apiPost<T>(\n    url: string,\n    body: unknown\n  ): Promise<T> {\n    const res = await fetch(url, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(body),\n    })\n    if (!res.ok) throw new Error(\"API error\")\n    return res.json()\n  }\n  "],"names":[],"mappings":";;;;;;AAAO,eAAe,OAAU,GAAW;IACvC,MAAM,MAAM,MAAM,MAAM;IACxB,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,QACpB,GAAW,EACX,IAAa;IAEb,MAAM,MAAM,MAAM,MAAM,KAAK;QAC3B,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,IAAI,IAAI;AACjB"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/src/app/slices/crmSlice.tsx"],"sourcesContent":["import { PayloadAction, createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { apiGet } from \"../api/client\";\n\nexport type Contact = {\n  id: number;\n  name: string;\n  email: string;\n  company_name: string;\n  location: string;\n  industry: string;\n  last_contacted: string | null;\n  next_contacted: string | null;\n  emails_sent: number;\n  emails_scheduled: number;\n};\n\ntype CRMState = {\n  contacts: Contact[];\n  loading: boolean;\n  selectedIds: number[];\n};\n\nconst initialState: CRMState = {\n  contacts: [],\n  loading: false,\n  selectedIds: [],\n};\n\nexport const fetchContacts = createAsyncThunk(\"crm/fetchContacts\", async () => {\n  const res = await apiGet<{ results: Contact[] }>(\"/api/contacts/\");\n  return res.results;\n});\n\nconst crmSlice = createSlice({\n  name: \"crm\",\n  initialState,\n  reducers: {\n    setSelectedIds(state, action: PayloadAction<number[]>) {\n      state.selectedIds = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchContacts.pending, (state) => {\n        state.loading = true;\n      })\n      .addCase(fetchContacts.fulfilled, (state, action) => {\n        state.contacts = action.payload;\n        state.loading = false;\n      });\n  },\n});\n\nexport const { setSelectedIds } = crmSlice.actions;\nexport default crmSlice.reducer;\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAqBA,MAAM,eAAyB;IAC7B,UAAU,EAAE;IACZ,SAAS;IACT,aAAa,EAAE;AACjB;AAEO,MAAM,gBAAgB,IAAA,+MAAgB,EAAC,qBAAqB;IACjE,MAAM,MAAM,MAAM,IAAA,qIAAM,EAAyB;IACjD,OAAO,IAAI,OAAO;AACpB;AAEA,MAAM,WAAW,IAAA,0MAAW,EAAC;IAC3B,MAAM;IACN;IACA,UAAU;QACR,gBAAe,KAAK,EAAE,MAA+B;YACnD,MAAM,WAAW,GAAG,OAAO,OAAO;QACpC;IACF;IACA,eAAe,CAAC;QACd,QACG,OAAO,CAAC,cAAc,OAAO,EAAE,CAAC;YAC/B,MAAM,OAAO,GAAG;QAClB,GACC,OAAO,CAAC,cAAc,SAAS,EAAE,CAAC,OAAO;YACxC,MAAM,QAAQ,GAAG,OAAO,OAAO;YAC/B,MAAM,OAAO,GAAG;QAClB;IACJ;AACF;AAEO,MAAM,EAAE,cAAc,EAAE,GAAG,SAAS,OAAO;uCACnC,SAAS,OAAO"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/src/app/slices/playbooksSlice.tsx"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { apiGet } from \"../api/client\";\n\nexport type PlaybookStep = {\n  id: number;\n  order: number;\n  day_offset: number;\n  channel: string;\n  prompt_version: number;\n};\n\nexport type Playbook = {\n  id: number;\n  name: string;\n  steps: PlaybookStep[];\n};\n\ntype PlaybooksState = {\n  playbooks: Playbook[];\n};\n\nconst initialState: PlaybooksState = {\n  playbooks: [],\n};\n\nexport const fetchPlaybooks = createAsyncThunk(\"playbooks/fetch\", async () => {\n  return apiGet<Playbook[]>(\"/api/playbooks/\");\n});\n\nconst playbooksSlice = createSlice({\n  name: \"playbooks\",\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(fetchPlaybooks.fulfilled, (state, action) => {\n      state.playbooks = action.payload;\n    });\n  },\n});\n\nexport default playbooksSlice.reducer;\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAoBA,MAAM,eAA+B;IACnC,WAAW,EAAE;AACf;AAEO,MAAM,iBAAiB,IAAA,+MAAgB,EAAC,mBAAmB;IAChE,OAAO,IAAA,qIAAM,EAAa;AAC5B;AAEA,MAAM,iBAAiB,IAAA,0MAAW,EAAC;IACjC,MAAM;IACN;IACA,UAAU,CAAC;IACX,eAAe,CAAC;QACd,QAAQ,OAAO,CAAC,eAAe,SAAS,EAAE,CAAC,OAAO;YAChD,MAAM,SAAS,GAAG,OAAO,OAAO;QAClC;IACF;AACF;uCAEe,eAAe,OAAO"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/src/app/slices/generationSlice.tsx"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { apiPost } from \"../api/client\";\n\ntype GenerationState = {\n  generating: boolean;\n  lastRunAt: string | null;\n};\n\nconst initialState: GenerationState = {\n  generating: false,\n  lastRunAt: null,\n};\n\nexport const generateMessages = createAsyncThunk(\n  \"generation/run\",\n  async (payload: { playbook_id: number; contact_ids: number[] }) => {\n    await apiPost(\"/api/generate/\", payload);\n    return new Date().toISOString();\n  }\n);\n\nconst generationSlice = createSlice({\n  name: \"generation\",\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(generateMessages.pending, (state) => {\n        state.generating = true;\n      })\n      .addCase(generateMessages.fulfilled, (state, action) => {\n        state.generating = false;\n        state.lastRunAt = action.payload;\n      });\n  },\n});\n\nexport default generationSlice.reducer;\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAOA,MAAM,eAAgC;IACpC,YAAY;IACZ,WAAW;AACb;AAEO,MAAM,mBAAmB,IAAA,+MAAgB,EAC9C,kBACA,OAAO;IACL,MAAM,IAAA,sIAAO,EAAC,kBAAkB;IAChC,OAAO,IAAI,OAAO,WAAW;AAC/B;AAGF,MAAM,kBAAkB,IAAA,0MAAW,EAAC;IAClC,MAAM;IACN;IACA,UAAU,CAAC;IACX,eAAe,CAAC;QACd,QACG,OAAO,CAAC,iBAAiB,OAAO,EAAE,CAAC;YAClC,MAAM,UAAU,GAAG;QACrB,GACC,OAAO,CAAC,iBAAiB,SAAS,EAAE,CAAC,OAAO;YAC3C,MAAM,UAAU,GAAG;YACnB,MAAM,SAAS,GAAG,OAAO,OAAO;QAClC;IACJ;AACF;uCAEe,gBAAgB,OAAO"}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/src/app/slices/analyticsSlice.tsx"],"sourcesContent":["// analyticsSlice.ts\nimport {\n  PayloadAction,\n  createAsyncThunk,\n  createSlice,\n  nanoid,\n} from \"@reduxjs/toolkit\";\nimport { apiGet, apiPost } from \"../api/client\";\n\nexport type ChartType = \"pie\" | \"bar\" | \"line\" | \"combo\";\nexport type MetricType = \"emails_sent\" | \"industry_breakdown\" | \"response_rate\";\n\nexport type ChartConfig = {\n  id: string;\n  chartType: ChartType;\n  metric: MetricType;\n  days: number;\n};\n\nexport type Dashboard = {\n  id: string;\n  name: string;\n  chartIds: string[];\n};\n\ntype ChartState = {\n  charts: Record<string, unknown>;\n  chartConfigs: Record<string, ChartConfig>;\n  dashboards: Record<string, Dashboard>;\n  activeDashboardId: string | null;\n  loading: boolean;\n};\n\nconst initialState: ChartState = {\n  charts: {},\n  chartConfigs: {},\n  dashboards: {},\n  activeDashboardId: null,\n  loading: false,\n};\n\nexport const fetchChart = createAsyncThunk(\n  \"analytics/fetchChart\",\n  async (params: { chartId: string; metric: MetricType; days: number }) => {\n    const data = await apiGet(\n      `/api/analytics/charts/?type=${params.metric}&days=${params.days}`\n    );\n    return { chartId: params.chartId, data };\n  }\n);\n\nexport const saveDashboard = createAsyncThunk(\n  \"analytics/saveDashboard\",\n  async (dashboard: Dashboard) => {\n    await apiPost(\"/api/analytics/dashboards/\", dashboard);\n    return dashboard;\n  }\n);\n\nconst analyticsSlice = createSlice({\n  name: \"analytics\",\n  initialState,\n  reducers: {\n    createChart: {\n      reducer(state, action: PayloadAction<ChartConfig>) {\n        const cfg = action.payload;\n        state.chartConfigs[cfg.id] = cfg;\n\n        const dash = state.dashboards[state.activeDashboardId!];\n        dash.chartIds.push(cfg.id);\n      },\n\n      prepare(\n        chartType: ChartType,\n        metric: MetricType,\n        days: number = 30\n      ): { payload: ChartConfig } {\n        return {\n          payload: {\n            id: nanoid(),\n            chartType,\n            metric,\n            days,\n          },\n        };\n      },\n    },\n\n    createDashboard(state, action) {\n      const id = nanoid();\n      state.dashboards[id] = {\n        id,\n        name: action.payload,\n        chartIds: [],\n      };\n      state.activeDashboardId = id;\n    },\n\n    setActiveDashboard(state, action) {\n      state.activeDashboardId = action.payload;\n    },\n\n    updateChartConfig(state, action) {\n      const { id, updates } = action.payload;\n      Object.assign(state.chartConfigs[id], updates);\n    },\n  },\n\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchChart.pending, (state) => {\n        state.loading = true;\n      })\n      .addCase(fetchChart.fulfilled, (state, action) => {\n        state.charts[action.payload.chartId] = action.payload.data;\n        state.loading = false;\n      });\n  },\n});\n\nexport const {\n  createChart,\n  createDashboard,\n  setActiveDashboard,\n  updateChartConfig,\n} = analyticsSlice.actions;\n\nexport default analyticsSlice.reducer;\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA,oBAAoB;AACpB;AAMA;;;AA0BA,MAAM,eAA2B;IAC/B,QAAQ,CAAC;IACT,cAAc,CAAC;IACf,YAAY,CAAC;IACb,mBAAmB;IACnB,SAAS;AACX;AAEO,MAAM,aAAa,IAAA,+MAAgB,EACxC,wBACA,OAAO;IACL,MAAM,OAAO,MAAM,IAAA,qIAAM,EACvB,CAAC,4BAA4B,EAAE,OAAO,MAAM,CAAC,MAAM,EAAE,OAAO,IAAI,EAAE;IAEpE,OAAO;QAAE,SAAS,OAAO,OAAO;QAAE;IAAK;AACzC;AAGK,MAAM,gBAAgB,IAAA,+MAAgB,EAC3C,2BACA,OAAO;IACL,MAAM,IAAA,sIAAO,EAAC,8BAA8B;IAC5C,OAAO;AACT;AAGF,MAAM,iBAAiB,IAAA,0MAAW,EAAC;IACjC,MAAM;IACN;IACA,UAAU;QACR,aAAa;YACX,SAAQ,KAAK,EAAE,MAAkC;gBAC/C,MAAM,MAAM,OAAO,OAAO;gBAC1B,MAAM,YAAY,CAAC,IAAI,EAAE,CAAC,GAAG;gBAE7B,MAAM,OAAO,MAAM,UAAU,CAAC,MAAM,iBAAiB,CAAE;gBACvD,KAAK,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE;YAC3B;YAEA,SACE,SAAoB,EACpB,MAAkB,EAClB,OAAe,EAAE;gBAEjB,OAAO;oBACL,SAAS;wBACP,IAAI,IAAA,qMAAM;wBACV;wBACA;wBACA;oBACF;gBACF;YACF;QACF;QAEA,iBAAgB,KAAK,EAAE,MAAM;YAC3B,MAAM,KAAK,IAAA,qMAAM;YACjB,MAAM,UAAU,CAAC,GAAG,GAAG;gBACrB;gBACA,MAAM,OAAO,OAAO;gBACpB,UAAU,EAAE;YACd;YACA,MAAM,iBAAiB,GAAG;QAC5B;QAEA,oBAAmB,KAAK,EAAE,MAAM;YAC9B,MAAM,iBAAiB,GAAG,OAAO,OAAO;QAC1C;QAEA,mBAAkB,KAAK,EAAE,MAAM;YAC7B,MAAM,EAAE,EAAE,EAAE,OAAO,EAAE,GAAG,OAAO,OAAO;YACtC,OAAO,MAAM,CAAC,MAAM,YAAY,CAAC,GAAG,EAAE;QACxC;IACF;IAEA,eAAe,CAAC;QACd,QACG,OAAO,CAAC,WAAW,OAAO,EAAE,CAAC;YAC5B,MAAM,OAAO,GAAG;QAClB,GACC,OAAO,CAAC,WAAW,SAAS,EAAE,CAAC,OAAO;YACrC,MAAM,MAAM,CAAC,OAAO,OAAO,CAAC,OAAO,CAAC,GAAG,OAAO,OAAO,CAAC,IAAI;YAC1D,MAAM,OAAO,GAAG;QAClB;IACJ;AACF;AAEO,MAAM,EACX,WAAW,EACX,eAAe,EACf,kBAAkB,EAClB,iBAAiB,EAClB,GAAG,eAAe,OAAO;uCAEX,eAAe,OAAO"}},
    {"offset": {"line": 240, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/src/app/store.ts"],"sourcesContent":["import { configureStore } from \"@reduxjs/toolkit\"\nimport crmReducer from \"./slices/crmSlice\"\nimport playbooksReducer from \"./slices/playbooksSlice\"\nimport generationReducer from \"./slices/generationSlice\"\nimport analyticsReducer from \"./slices/analyticsSlice\"\n\nexport const store = configureStore({\n  reducer: {\n    crm: crmReducer,\n    playbooks: playbooksReducer,\n    generation: generationReducer,\n    analytics: analyticsReducer,\n  },\n})\n\nexport type RootState = ReturnType<typeof store.getState>\nexport type AppDispatch = typeof store.dispatch\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEO,MAAM,QAAQ,IAAA,6MAAc,EAAC;IAClC,SAAS;QACP,KAAK,4IAAU;QACf,WAAW,kJAAgB;QAC3B,YAAY,mJAAiB;QAC7B,WAAW,kJAAgB;IAC7B;AACF"}},
    {"offset": {"line": 266, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/src/app/providers.tsx"],"sourcesContent":["\"use client\";\n\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store\";\n\nexport function Providers({ children }: { children: React.ReactNode }) {\n  return <Provider store={store}>{children}</Provider>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,qBAAO,8OAAC,qKAAQ;QAAC,OAAO,4HAAK;kBAAG;;;;;;AAClC"}},
    {"offset": {"line": 291, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristo/playbook-crm/frontend/src/app/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport { Providers } from \"./providers\";\nimport \"./globals.css\";\n\nexport default function RootLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const [open, setOpen] = useState(true);\n\n  return (\n    <html lang=\"en\">\n      <body className=\"min-h-screen bg-slate-950 text-slate-400\">\n        <Providers>\n          <div className=\"flex min-h-screen\">\n            <aside\n              className={`${\n                open ? \"w-56\" : \"w-14\"\n              } transition-all bg-slate-900 p-4`}\n            >\n              <button\n                onClick={() => setOpen(!open)}\n                className=\"mb-6 text-xs text-slate-400\"\n              >\n                {open ? \"<<\" : \">>\"}\n              </button>\n\n              <nav className=\"flex flex-col gap-4 text-sm\">\n                <Link href=\"/table\">Table</Link>\n                <Link href=\"/analytics\">Analytics</Link>\n              </nav>\n            </aside>\n\n            <main className=\"flex-1 p-8\">{children}</main>\n          </div>\n        </Providers>\n      </body>\n    </html>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;;AAOe,SAAS,WAAW,EACjC,QAAQ,EAGT;IACC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IAEjC,qBACE,8OAAC;QAAK,MAAK;kBACT,cAAA,8OAAC;YAAK,WAAU;sBACd,cAAA,8OAAC,qIAAS;0BACR,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,WAAW,GACT,OAAO,SAAS,OACjB,gCAAgC,CAAC;;8CAElC,8OAAC;oCACC,SAAS,IAAM,QAAQ,CAAC;oCACxB,WAAU;8CAET,OAAO,OAAO;;;;;;8CAGjB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,uKAAI;4CAAC,MAAK;sDAAS;;;;;;sDACpB,8OAAC,uKAAI;4CAAC,MAAK;sDAAa;;;;;;;;;;;;;;;;;;sCAI5B,8OAAC;4BAAK,WAAU;sCAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM1C"}}]
}